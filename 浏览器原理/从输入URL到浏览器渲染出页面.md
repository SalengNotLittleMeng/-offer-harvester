## DNS解析

浏览器首先需要将域名解析成IP地址，以便能够连接到服务器。浏览器会先查找本地DNS缓存（操作系统host+浏览器缓存），如果没有找到，则向本地DNS服务器发送请求，逐级向上查找，直到找到对应的IP地址。（注意查找是从后往前，先从com/cn这些向上查找）

获取到IP地址后，其实是会使用协议栈，去在每一层进行传输

## 建立TCP连接
浏览器使用HTTP协议与服务器进行通信，需要先建立TCP连接。TCP连接的建立需要进行三次握手，即客户端向服务器发送SYN报文，服务器回复SYN+ACK报文，客户端再回复ACK报文，从而建立连接。

## IP协议层
TCP链接时需要在IP层传输，IP层主要做的事情是包装IP报文，以及根据路由表确定使用哪个网卡作为IP地址

## 链路层
两点之间的传输，需要在网络包的头部加上MAC头部，其中接收方的MAC头部需要ARP协议通过广播的形式确定。之后，这些数据包会被网卡转化为电信号的形式发出，之后，电信号每到一处交换机或路由器，会被转化为二进制并在路由器对应的路由表中确定下一次到达的地址，最终送到指定的IP地址

路由器确定下一处发送目标的方式：每个条目的子网掩码和 192.168.1.100 IP 做 & 与运算后，得到的结果与对应条目的目标地址进行匹配，如果匹配就会作为候选转发目标

## 发送HTTP请求
TCP连接建立后，浏览器会向服务器发送HTTP请求，请求中包含请求头和请求体。请求头中包含请求方法、请求URL、请求头部等信息，请求体中包含请求参数等数据。

## 服务器处理请求
服务器接收到HTTP请求后，会根据请求的URL和请求方法，调用相应的处理程序进行处理。处理程序可能会从数据库中获取数据、调用其他服务进行处理等操作，最终生成HTTP响应。

## 发送HTTP响应

服务器将HTTP响应发送回浏览器，响应中包含响应头和响应体。响应头中包含响应状态码、响应头部等信息，响应体中包含响应数据等内容。

## 接收HTTP响应
这部分具体看浏览器原理
浏览器接收到HTTP响应后，会将响应数据解析成HTML文档，并构建DOM树、CSSOM树等文档对象模型。

加载资源：浏览器解析HTML文档时，会发现其中包含了其他资源（如CSS、JS、图片等），浏览器会根据HTML文档中的链接地址，向服务器发送请求，下载这些资源。

页面渲染：浏览器下载完所有资源后，会根据DOM树和CSSOM树构建渲染树，并进行布局和绘制，最终将页面渲染出来。